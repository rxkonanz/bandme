(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(59)},34:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/logo.9d56970a.svg"},59:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),i=a.n(r),l=(a(34),a(62)),c=a(2),o=a(3),m=a(5),u=a(4),g=a(6),h=a(60),p=a(19),d=a(63),f=a(27),E=a(10),v=a(12),y=a.n(v);y.a.defaults.withCredentials=!0;var b=y.a.create({baseURL:"/api",withCredentials:!0}),k=function(e){if(console.error(e),e.response&&e.response.data)throw console.error("API response",e.response.data),e.response.data.message;throw e},w={service:b,isLoggedIn:function(){return null!=localStorage.getItem("user")},getLocalStorageUser:function(){return JSON.parse(localStorage.getItem("user"))},signup:function(e){return b.post("/signup",e).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("userEmail",e.data.email),localStorage.setItem("artistType",e.data.artistType),e.data}).catch(k)},login:function(e,t){return b.post("/login",{email:e,password:t}).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("userEmail",e.data.email),localStorage.setItem("artistType",e.data.artistType),e.data}).catch(k)},likeVideo:function(e){return b.post("/like-video",e).then(function(e){console.log(e)}).catch(k)},logout:function(){return localStorage.removeItem("user"),b.get("/logout")}},O=a(61),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={artistType:localStorage.artistType,allBands:[]},a.logIn=function(){if(!w.isLoggedIn())return s.a.createElement(O.a,{to:"/login"})},a.getBands=function(){y.a.get("http://localhost:5000/api/all-bands").then(function(e){e.data.allBands;a.setState({allBands:e.data.allBands})})},a.showData=function(){return console.log(Object(E.a)(Object(E.a)(a))),"band"===a.state.artistType?s.a.createElement("div",{class:"container"},s.a.createElement("h1",{className:"bands-home-title"},"I am looking for a:"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"artist-type-div col-lg-4"},s.a.createElement("a",{href:"/musicians/guitar"},s.a.createElement("img",{src:"../../images/guitarist.png",className:"artist-type-icon",alt:"guitarist"}),s.a.createElement("p",null,"Guitar Player"))),s.a.createElement("div",{className:"artist-type-div col-lg-4"},s.a.createElement("a",{href:"/musicians/singer"},s.a.createElement("img",{src:"../../images/singer.png",className:"artist-type-icon",alt:"singer"}),s.a.createElement("p",null,"Singer"))),s.a.createElement("div",{className:"artist-type-div col-lg-4"},s.a.createElement("a",{href:"/musicians/drummer"},s.a.createElement("img",{src:"../../images/drummer.png",className:"artist-type-icon",alt:"drummer"}),s.a.createElement("p",null,"Drummer"))))):a.state.allBands.map(function(e){return s.a.createElement("div",{className:"col-xl-4 col-lg-4 band-box"},s.a.createElement("img",{src:e.imgLink,className:"band-image",alt:"alt"}),s.a.createElement("p",null,e.name))})},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getBands()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},this.logIn(),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.showData())))}}]),t}(n.Component),j=a(14),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",message:null},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),w.login(this.state.email,this.state.password).then(function(e){t.props.setUser(),t.props.history.push("/home")}).catch(function(e){return t.setState({message:e.toString()})})}},{key:"render",value:function(){var e=this;return console.log(),s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"grid align__item"},s.a.createElement("div",{className:"login"},s.a.createElement("h4",{className:"form-title"},"Log In"),s.a.createElement("form",{className:"form"},s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleInputChange,placeholder:"email"})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"password",value:this.state.password,name:"password",onChange:this.handleInputChange,placeholder:"password"})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"submit",onClick:function(t){return e.handleClick(t)},value:"Log In"}),s.a.createElement("a",{href:"/signup"},"Don't have an Account? Register."))),this.state.message&&s.a.createElement("div",{className:"info info-danger"},this.state.message))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,name:a.state.name,password:a.state.password,artistType:a.state.artistType,ytLink:a.getVideoId(a.state.ytLink),imgLink:a.state.imgLink,instrument:a.state.instrument};w.signup(t).then(function(e){console.log("SUCCESS!"),a.props.setUser(),a.props.history.push("/home")}).catch(function(e){return a.setState({message:e.toString()})})},a.getVideoId=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11==t[2].length?"https://www.youtube.com/embed/"+t[2]:"error"},a.state={email:"",name:"",password:"",message:null,artistType:"musician",ytLink:"",imgLink:"",instrument:"guitarist"},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),console.log(this.state,e.target.photo,e.target);var a={email:this.state.email,name:this.state.name,password:this.state.password,artistType:this.state.artistType,ytLink:this.getVideoId(this.state.ytLink),imgLink:this.state.imgLink,instrument:this.state.instrument};w.signup(a).then(function(e){console.log("SUCCESS!"),t.props.setUser(),t.props.history.push("/home")}).catch(function(e){return t.setState({message:e.toString()})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Signup"},s.a.createElement("div",{className:"grid align__item"},s.a.createElement("div",{className:"login"},s.a.createElement("h4",{className:"form-title"},"Register as a Musician"),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",method:"post",enctype:"multipart/form-data"},s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"text",value:this.state.imgLink,name:"imgLink",placeholder:"link to profile image",onChange:this.handleInputChange})),s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"email",value:this.state.email,name:"email",placeholder:"email",onChange:this.handleInputChange})),s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"text",value:this.state.name,name:"name",placeholder:"name",onChange:this.handleInputChange})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"password",value:this.state.password,name:"password",placeholder:"password",onChange:this.handleInputChange})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"text",value:this.state.ytLink,name:"ytLink",placeholder:"youtube link",onChange:this.handleInputChange})),s.a.createElement("div",{class:"form__field"},"I am a:",s.a.createElement("select",{className:"artist-type-dropdown",name:"instrument",onChange:this.handleInputChange},s.a.createElement("option",{name:"guitarist",value:"guitarist"},"Guitar Player"),s.a.createElement("option",{name:"singer",value:"singer"},"Singer"),s.a.createElement("option",{name:"drummer",value:"drummer"},"Drummer"))),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"submit",value:"Register"}),s.a.createElement("a",{href:"/login"},"Already have an Account? Log In."))),this.state.message&&s.a.createElement("div",{className:"info info-danger"},this.state.message))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,name:a.state.name,password:a.state.password,artistType:a.state.artistType,imgLink:a.state.imgLink};w.signup(t).then(function(e){console.log("SUCCESS!"),a.props.setUser(),a.props.history.push("/home")}).catch(function(e){return a.setState({message:e.toString()})})},a.state={email:"",name:"",password:"",message:null,artistType:"band",imgLink:""},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),console.log(this.state,e.target.photo,e.target);var a={imgLink:this.state.imgLink,email:this.state.email,name:this.state.name,password:this.state.password,artistType:this.state.artistType};w.signup(a).then(function(e){console.log("SUCCESS!"),t.props.setUser(),t.props.history.push("/home")}).catch(function(e){return t.setState({message:e.toString()})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Signup"},s.a.createElement("div",{className:"grid align__item"},s.a.createElement("div",{className:"login"},s.a.createElement("h4",{className:"form-title"},"Register as a Band"),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"form",method:"post",enctype:"multipart/form-data"},s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"text",value:this.state.imgLink,name:"imgLink",placeholder:"link to profile image",onChange:this.handleInputChange})),s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"email",value:this.state.email,name:"email",placeholder:"email",onChange:this.handleInputChange})),s.a.createElement("div",{className:"form__field"},s.a.createElement("input",{type:"text",value:this.state.name,name:"name",placeholder:"name",onChange:this.handleInputChange})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"password",value:this.state.password,name:"password",placeholder:"password",onChange:this.handleInputChange})),s.a.createElement("div",{class:"form__field"},s.a.createElement("input",{type:"submit",value:"Register"}),s.a.createElement("a",{href:"/login"},"Already have an Account? Log In."))),this.state.message&&s.a.createElement("div",{className:"info info-danger"},this.state.message))))}}]),t}(n.Component),L=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"pre-signup"},s.a.createElement("a",{href:"/musician-signup",className:"important-type-link"},"I am a Musician"),s.a.createElement("a",{href:"/band-signup",className:"important-type-link"},"I am a Band"))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allGuitarists:[],currentUser:localStorage.userEmail},a.getGuitarists=function(){y.a.get("http://localhost:5000/api/guitarists").then(function(e){var t=e.data.allGuitarists;a.setState({allGuitarists:t})})},a.likeVideo=function(e){alert("You liked this video!"),y.a.post("http://localhost:5000/api/like-video",{bandEmail:a.state.currentUser,musicianEmail:e}).then(function(e){console.log(e)})},a.showGuitarists=function(){return a.state.allGuitarists.map(function(e,t){return s.a.createElement("div",{className:"each-musician col-xl-6 col-lg-12"},s.a.createElement("iframe",{className:"youtube-video",title:"youtubevideo",src:e.ytLink,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),s.a.createElement("p",null,e.name),s.a.createElement("button",{onClick:function(t){return a.likeVideo(e.email)}},"Like"))})},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getGuitarists()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("img",{src:"../../images/guitar-logo.png",className:"musician-type-image",alt:"guitar"}),s.a.createElement("h1",{className:"show-artists-title"},"Guitar Players looking for a Band:"),s.a.createElement("div",{className:"row"},this.showGuitarists()))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allDrummers:[],currentUser:localStorage.userEmail},a.getDrummers=function(){y.a.get("http://localhost:5000/api/drummers").then(function(e){var t=e.data.allDrummers;a.setState({allDrummers:t})})},a.showDrummers=function(){return a.state.allDrummers.map(function(e,t){return s.a.createElement("div",{className:"each-musician col-xl-6 col-lg-6"},s.a.createElement("iframe",{className:"youtube-video",title:"youtubevideo",src:e.ytLink,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),s.a.createElement("p",null,e.name),s.a.createElement("button",null,"Like"))})},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getDrummers()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("img",{src:"../../images/drums-logo.png",className:"musician-type-image",alt:"drums"}),s.a.createElement("h1",{className:"show-artists-title"},"Drummers looking for a Band:"),s.a.createElement("div",{className:"row"},this.showDrummers()))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allSingers:[],currentUser:localStorage.userEmail},a.getSingers=function(){y.a.get("http://localhost:5000/api/singers").then(function(e){var t=e.data.allSingers;a.setState({allSingers:t})})},a.showSingers=function(){return a.state.allSingers.map(function(e,t){return s.a.createElement("div",{className:"each-musician col-xl-6 col-lg-6"},s.a.createElement("iframe",{className:"youtube-video",title:"youtubevideo",src:e.ytLink,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),s.a.createElement("p",null,e.name),s.a.createElement("button",null,"Like"))})},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getSingers()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("img",{src:"../../images/singer-logo.png",className:"musician-type-image",alt:"singer"}),s.a.createElement("h1",{className:"show-artists-title"},"Singers looking for a Band:"),s.a.createElement("div",{className:"row"},this.showSingers()))}}]),t}(n.Component),T=(a(57),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={countries:[],user:{}},a.setUser=function(){w.isLoggedIn()?a.setState({user:w.getLocalStorageUser()}):a.setState({user:{}})},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setUser()}},{key:"handleLogoutClick",value:function(e){w.logout(),this.setUser()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("a",{href:"/"},s.a.createElement("h1",{className:"App-title"},"BandME")),!w.isLoggedIn()&&s.a.createElement(h.a,{to:"/login"},"Log In"),!w.isLoggedIn()&&s.a.createElement(h.a,{to:"/signup"},"Register"),w.isLoggedIn()&&s.a.createElement(p.a,{to:"/login",onClick:function(t){return e.handleLogoutClick(t)}},"Logout")),s.a.createElement(d.a,null,s.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(S,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),s.a.createElement(f.a,{path:"/home",render:function(t){return s.a.createElement(S,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),s.a.createElement(f.a,{path:"/musicians/guitar",render:function(t){return s.a.createElement(U,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),s.a.createElement(f.a,{path:"/musicians/drummer",render:function(t){return s.a.createElement(_,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),s.a.createElement(f.a,{path:"/musicians/singer",render:function(t){return s.a.createElement(D,Object.assign({},t,{setUser:e.setUser,user:e.state.user}))}}),s.a.createElement(f.a,{path:"/signup",render:function(t){return s.a.createElement(L,Object.assign({},t,{setUser:e.setUser}))}}),s.a.createElement(f.a,{path:"/musician-signup",render:function(t){return s.a.createElement(C,Object.assign({},t,{setUser:e.setUser}))}}),s.a.createElement(f.a,{path:"/band-signup",render:function(t){return s.a.createElement(I,Object.assign({},t,{setUser:e.setUser}))}}),s.a.createElement(f.a,{path:"/login",render:function(t){return s.a.createElement(N,Object.assign({},t,{setUser:e.setUser}))}}),s.a.createElement(f.a,{render:function(){return s.a.createElement("h2",null,"404")}})))}}]),t}(n.Component));a(58);i.a.render(s.a.createElement(l.a,null,s.a.createElement(T,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.635c11e1.chunk.js.map