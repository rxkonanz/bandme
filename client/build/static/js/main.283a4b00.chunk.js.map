{"version":3,"sources":["logo.svg","api.js","components/pages/Home.jsx","components/pages/Login.jsx","components/pages/Signup.jsx","components/App.jsx","index.js"],"names":["module","exports","__webpack_require__","p","axios","defaults","withCredentials","service","create","baseURL","errHandler","err","console","error","response","data","message","api","isLoggedIn","localStorage","getItem","getLocalStorageUser","JSON","parse","signup","userInfo","post","then","res","setItem","stringify","catch","login","username","password","logout","removeItem","get","Home","log","Axios","react_default","a","createElement","className","Component","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","handleInputChange","bind","assertThisInitialized","event","setState","defineProperty","target","name","value","e","_this2","preventDefault","result","setUser","history","push","toString","_this3","type","onChange","onClick","handleClick","Signup","App","countries","user","src","logo","alt","NavLink","to","exact","Link","handleLogoutClick","Switch","Route","path","render","Home_Home","assign","Signup_Signup","Login_Login","ReactDOM","BrowserRouter","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.283a4b00.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9d56970a.svg\";","import axios from 'axios'\naxios.defaults.withCredentials = true\n\n\nconst service = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:5000/api',\n  withCredentials: true\n})\n\nconst errHandler = err => {\n  console.error(err)\n  if (err.response && err.response.data) {\n    console.error(\"API response\", err.response.data)\n    throw err.response.data.message\n  }\n  throw err\n}\n\nexport default {\n  service: service,\n\n  // This method is synchronous and returns true or false\n  // To know if the user is connected, we just check if we have a value for localStorage.getItem('user')\n  isLoggedIn() {\n    return localStorage.getItem('user') != null\n  },\n\n  // This method returns the user from the localStorage\n  // Be careful, the value is the one when the user logged in for the last time\n  getLocalStorageUser() {\n    return JSON.parse(localStorage.getItem('user'))\n  },\n\n  // This method signs up and logs in the user\n  signup(userInfo) {\n    return service\n      .post('/signup', userInfo)\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem('user', JSON.stringify(res.data))\n        return res.data\n      })\n      .catch(errHandler)\n  },\n\n  login(username, password) {\n    return service\n      .post('/login', {\n        username,\n        password,\n      })\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem('user', JSON.stringify(res.data))\n        return res.data\n      })\n      .catch(errHandler)\n  },\n\n  logout() {\n    localStorage.removeItem('user')\n    return service\n      .get('/logout')\n  },\n\n  // This is an example on how to use this method in a different file\n  // api.getCountries().then(countries => { /* ... */ })\n \n}\n","import React, { Component } from 'react';\nimport Axios from 'axios';\nimport api from '../../api'\n\nexport default class Home extends Component {\n\n  \n  componentDidMount(){\n\n    console.log(api.isLoggedIn())\n    console.log(api.getLocalStorageUser())\n\n    Axios.get('http://localhost:5000/api/whatever',).then(res=>{\n      // console.log(res)\n    })\n\n  }\n\n\n  render() {                \n    return (\n      <div className=\"Home\">\n        <h2>Home</h2>\n        <p>This is a sample project with the MERN stack</p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport api from '../../api';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: null\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    api.login(this.state.username, this.state.password)\n      .then(result => {\n        // console.log(api.getLocalStorageUser())\n        // this.setState({user:api.getLocalStorageUser()})\n        this.props.setUser()\n        this.props.history.push(\"/\") // Redirect to the home page\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n  }\n\n  render() {\n    console.log()\n    return (\n      <div className=\"Login\">\n        <h2>Login</h2>\n        <form>\n          Username: <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleInputChange} /> <br />\n          Password: <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleInputChange} /> <br />\n          <button onClick={(e) => this.handleClick(e)}>Login</button>\n        </form>\n        {this.state.message && <div className=\"info info-danger\">\n          {this.state.message}\n        </div>}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport api from '../../api';\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: \"\",\n      name: \"\",\n      password: \"\",\n      message: null\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    let data = {\n      username: this.state.username,\n      name: this.state.name,\n      password: this.state.password,\n    }\n    api.signup(data)\n      .then(result => {\n        console.log('SUCCESS!')\n        this.props.setUser()\n        this.props.history.push(\"/\") // Redirect to the home page\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n  }\n\n  render() {\n    return (\n      <div className=\"Signup\">\n        <h2>Signup</h2>\n        <form>\n          Username: <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleInputChange} /> <br />\n          Name: <input type=\"text\" value={this.state.name} name=\"name\" onChange={this.handleInputChange} /> <br />\n          Password: <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleInputChange} /> <br />\n          <button onClick={(e) => this.handleClick(e)}>Signup</button>\n        </form>\n        {this.state.message && <div className=\"info info-danger\">\n          {this.state.message}\n        </div>}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Route, Link, NavLink, Switch } from 'react-router-dom';\nimport Home from './pages/Home';\n\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport api from '../api';\nimport logo from '../logo.svg';\n\nexport default class App extends Component {\n  state = {\n    countries: [],\n    user: {},\n  }\n\n  componentDidMount() {\n    this.setUser()\n  }\n\n  setUser = () => {\n    if (api.isLoggedIn()) {\n      this.setState({ user: api.getLocalStorageUser() })\n    } else {\n      this.setState({ user: {} })\n\n    }\n  }\n\n  handleLogoutClick(e) {\n    api.logout()\n    //this.setState({user:null})\n    this.setUser()\n\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">MERN Boilerplate</h1>\n          user: {this.state.user.username}\n          <NavLink to=\"/\" exact>Home</NavLink>\n          {!api.isLoggedIn() && <NavLink to=\"/signup\">Signup</NavLink>}\n          {!api.isLoggedIn() && <NavLink to=\"/login\">Login</NavLink>}\n          {api.isLoggedIn() && <Link to=\"/\" onClick={(e) => this.handleLogoutClick(e)}>Logout</Link>}\n          <NavLink to=\"/secret\">Secret</NavLink>\n        </header>\n        <Switch>\n\n\n        <Route\n            exact\n            path='/'\n            render={(props) => <Home {...props}  setUser={this.setUser} />}\n          />\n          <Route\n            path='/signup'\n            render={(props) => <Signup {...props} setUser={this.setUser} />}\n          />\n          <Route\n            path='/login'\n            render={(props) => <Login {...props} setUser={this.setUser}/>}\n          />\n          \n          \n          <Route render={() => <h2>404</h2>} />\n\n\n        </Switch>\n      </div>\n    );\n  }\n}\n\n/*          <Route\n            path='/'\n            render={(props) => <Home {...props} setUser={this.setUser} />}\n          />\n          <Route\n            path='/signup'\n            render={(props) => <Signup {...props} setUser={this.setUser} />}\n          />\n          <Route\n            path='/login'\n            render={(props) => <Login {...props} setUser={this.setUser}/>}\n          />*/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './components/App.jsx';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n// registerServiceWorker();\n"],"sourceRoot":""}